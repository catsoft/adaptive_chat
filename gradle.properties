# --- Kotlin & Android ---
# Use official Kotlin code style
kotlin.code.style=official
# Use AndroidX instead of legacy support libs
android.useAndroidX=true
# Build faster by avoiding transitive R class generation
android.nonTransitiveRClass=true


# --- Kotlin Multiplatform (KMP) ---
# Share native interop code between targets
kotlin.mpp.enableCInteropCommonization=true
# Skip unused dependency metadata
kotlin.mpp.enableIntransitiveMetadataConfiguration=true
# Enable Compose for iOS (UIKit)
org.jetbrains.compose.experimental.uikit.enabled=true
kotlin.native.ignoreDisabledTargets=true
kotlin.incremental=true
kotlin.native.incremental=true
kotlin.incremental.multiModule=true
kotlin.build.report.enable=true
kotlinx.coroutines.debug=off
kotlinx.coroutines.debug.internal.enableCreationStackTrace=false


# --- Kotlin/Native Optimizations ---
# Use static caches for faster rebuilds
kotlin.native.cacheKind=static
# Cache for iOS devices (ARM64)
kotlin.native.cacheKind.iosArm64=static
# Cache for iOS Simulator (Apple Silicon)
kotlin.native.cacheKind.iosSimulatorArm64=static
# Cache for iOS Simulator (Intel)
kotlin.native.cacheKind.iosX64=static
# Rebuild only changed native code
kotlin.incremental.native=true
# Keep compiler running between builds
kotlin.native.disableCompilerDaemon=false
# Remove unused code from binaries
kotlin.native.linkerOptions=-dead_strip
# Auto-generate CocoaPods wrapper scripts
kotlin.native.cocoapods.generate.wrapper=true
kotlin.apple.xcodeCompatibility.nowarn=true

# --- Gradle Performance ---
org.gradle.jvmargs=-Xmx16000M -XX:MaxMetaspaceSize=1g -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 --enable-native-access=ALL-UNNAMED
kotlin.daemon.jvmargs=-Xmx16000M -XX:MaxMetaspaceSize=1g -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 --enable-native-access=ALL-UNNAMED
org.gradle.workers.max=4
kotlin.native.maxParallelCompilationTasks=2
kotlin.compiler.execution.strategy=daemon
org.gradle.configuration-cache=true
## Reuse previous build outputs
org.gradle.caching=true
## Keep Gradle running between builds
org.gradle.daemon=true
## Build independent modules in parallel
org.gradle.parallel=true
org.gradle.configureondemand=true
